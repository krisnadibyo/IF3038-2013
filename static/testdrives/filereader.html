<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <title>FileReader API TestDrive</title>
</head>

<body>
<!-- BEGIN BODY -->

<form id="imageUploadForm" action="javascript:;">
    <input type="file" id="fileInput" />
    <br />
    <div style="width: 400px; height: 400px; overflow: scroll;">
    <img id="imgView" src="" />
    </div>
</form>

<script>
var fileInput = document.getElementById('fileInput');
var imgView = document.getElementById('imgView');

imgView.src = localStorage['imgViewData'];

fileInput.onchange = function(e) {
    var file = fileInput.files[0];

    var reader = new FileReader();
    var dataUrl = '';

    reader.onload = function(e) {
        dataUrl = e.target.result;
        localStorage['imgViewData'] = dataUrl;
        imgView.src = dataUrl;
    }

    reader.readAsDataURL(file);
}

</script>

<!-- END OF BODY -->
</body>
</html>
